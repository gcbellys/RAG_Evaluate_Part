#############################################
# RAG Evaluate & RAG Build 统一依赖清单
# 安装方式：
#   pip install -r requirements.txt
#
# 说明：
# - PyTorch 与 Faiss-GPU 请按注释中的指引分别安装（与本机 CUDA 匹配）。
# - 若仅 CPU 环境，可安装 faiss-cpu 并把模型 device 设为 cpu。
#############################################

# --- 核心依赖（LLM/API 调用 & 通用） ---
openai>=1.0.0
anthropic>=0.18.0
google-generativeai>=0.3.0
pyyaml>=6.0
requests>=2.28.0
python-dotenv>=1.0.0

# --- NLP/Embedding/RAG 必需 ---
transformers==4.44.0
sentence-transformers==3.0.0
numpy>=1.26.0
scikit-learn>=1.3.0
scipy>=1.11.0

# --- Faiss（相似度检索）---
# 请选择其一安装：
# 1) GPU（推荐，使用 conda 安装，需与本机 CUDA 匹配）
#    conda install -y -c conda-forge "faiss-gpu=1.8.0=py310_*"
# 2) CPU（使用 pip 安装）
#    pip install faiss-cpu>=1.7.2

# 如需在纯 pip 下尝试 GPU 版（不同 CUDA 版本 wheel 名称不同，可能不可用）：
#    pip install faiss-gpu==1.7.2

# --- PyTorch（需与 CUDA 匹配，单独安装，不放入 pip 依赖）---
# 建议使用官方 nightly/cu128（示例，按需调整 CUDA 版本）：
#    pip install --pre torch torchvision torchaudio \
#      --index-url https://download.pytorch.org/whl/nightly/cu128
# 或使用 conda：
#    conda install -y -c pytorch -c nvidia pytorch torchvision torchaudio pytorch-cuda

# --- 测试/工具（可选）---
# pytest>=7.0.0

# 注意: Moonshot 和 Deepseek 通过 openai 包的兼容接口调用